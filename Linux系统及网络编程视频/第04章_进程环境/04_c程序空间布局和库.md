# 4. c程序空间布局

## 1）什么是c程序的内存空间

程序运行的大致过程：

c程序运行时，是运行在内存上的，也就是说需要在内存上开辟出一块空间给c程序，然后将C代码会被从硬盘拷贝到内存空间上运行，至于说是不是将代码全部会被拷贝到内存上，这就不一定的了，

+ 有些是全部考别，早期计算机和现在的单片机往往都是这种

+ 有些是只拷贝当前要运行的那一部分，运行完了再拷贝其它部分
  
  当运行有OS，而且OS提供了虚拟内存机制时，基本都是这种的情况，有关虚拟内存机制的原理，请看《计算机体系结构》软件篇——操作系统的课程。所以具体是那种情况，还要看具体的实现。

  不过，我们这里重点是你要清楚，运行时需要要在内存开辟出一段空间，然后把代码从硬盘拷贝到内存上，那么所开辟出的这段内存空间，就是c程序的内存空间。程序的内存空间。

## 2）c程序的内存空间结构

### （a）有结构的要求吗？

有，这段空间必须布局为c程序运行所需的空间结构，c程序才能运行。

比如程序在调用函数时需要用到“栈”这个东西，那么就必须在内存空间中构建出“栈”，否者c序程序没办法实现函数调用。

如果空间没有布局好，进程将无法运行，因此进程空间（c程序的内存空间）也是非常重要的进程环境。

这就好比你租了写字楼的某层开了家公司，但是这个空间肯定是需要被布局为你要的结构的，如果空间不布局的话，你公司怎么运作起来。

### （b）c的内存结构是谁来构建的

由启动代码来搭建的，比如启动代码会把c内存空间的某一部分空间，构建为“栈”，也就是说以“栈”的方式来管理这片内存。

### （c）c程序的内存空间也其实也叫“进程空间”

为什么？

因为c程序在内存中运行起来后就是进程了，所以c程序的内存空间也其实也叫“进程空间”。

### （d）不光是C程序

所有超级语言的程序在运行时，都涉及内存空间的结构布局，不过它们的结构都是相似的，理解了C的内存空间布局，自然也理解其他程序的内存空间结构。

c程序代码在内存上运行起来后，它就是一个进程，所以程序代码在内存上所占用的空间，也别称为进程空间。

c程序空间时c程序运行的非常总要环境，没有没有在内伤布局出这个空间环境，程序将无法运行起来。

原本打算还是简单介绍下的，但是由于这部分内容在C深度解析中，已经详细介绍过了，因此这里就不在介绍。
